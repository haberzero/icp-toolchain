请把test_local_symbol_merge 与test_ref_resolver.py进行合理的合并，并且考虑是否会出现新的边界条件，如果有新的边界条件，考虑合理地增加测试项，从而进行有效覆盖。另外，你还需要注意的是，针对本地的符号ref_resolver，有一个要点：局部变量的可见作用域问题，比如说不同的func块或者class 块下可见的局部符号树是不同的，以及，class下的方法可能会出现对于self.xxx的这种形式的引用。虽然ibc语法（你可以参考7_intent_behavior_code_gen.md来获得完善的语法理解）中，对于self并没有太详细的规定，但是ref_resolver仍然需要考虑这个情况，考虑作用域下是否真的能看到特定的self.xxsymbols 的内容。所以，你还需要进一步针对AST的细节进行一些特定的算法编写，使局部符号解析的代码功能更健壮。甚至，你也许需要对parser_state以及lexer的代码进行一些改善，使其能够顺利识别并非是$开头的self.xxx 的内容，从而在局部本地符号解析的流程里变得更容易进行代码编写。编写完成后，需要进一步修改针对Lexer和parser的相关测试脚本。